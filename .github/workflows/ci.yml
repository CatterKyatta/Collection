name: Koillection CI
on:
  workflow_dispatch:
  push:

jobs:
  security_checker:
    name: Security checker
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/cache@v2
        id: cache-db
        with:
          path: ~/.symfony/cache
          key: db
      - uses: symfonycorp/security-checker-action@v2

  phpunit_mysql:
    uses: ./.github/workflows/phpunit-mysql.yml

  phpunit_postgres:
    uses: ./.github/workflows/phpunit-postgres.yml